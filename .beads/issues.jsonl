{"id":"opencode.nvim-1q9","title":"No request retry logic - failed API requests don't retry with backoff","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-02T11:37:48.89046887-05:00","updated_at":"2025-12-02T11:37:48.89046887-05:00"}
{"id":"opencode.nvim-ce2","title":"No visible status indicator - users can't tell if OpenCode is connected and ready","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-02T11:37:46.708657872-05:00","updated_at":"2025-12-02T11:37:46.708657872-05:00"}
{"id":"opencode.nvim-d34","title":"Silent failures - errors only show in debug mode, server stderr discarded","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-02T11:37:43.809399499-05:00","updated_at":"2025-12-02T11:37:43.809399499-05:00"}
{"id":"opencode.nvim-dg5","title":"Duplicate session management - session.lua and client._get_pooled_session overlap","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-02T11:37:48.133143479-05:00","updated_at":"2025-12-02T11:37:48.133143479-05:00"}
{"id":"opencode.nvim-f0j","title":"No feedback during long operations - voice commands and completions lack progress indicators","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-02T11:37:45.32495784-05:00","updated_at":"2025-12-02T11:37:45.32495784-05:00"}
{"id":"opencode.nvim-hze","title":"server.start() returns true before async health check completes","description":"## Problem\nIn server.lua:51-58, when connecting to an external URL, `M.start()` returns `true` immediately before the async health check completes. Callers may incorrectly assume the server is ready.\n\n## Proposed Solution\nAdd optional callback parameter to `M.start()`:\n```lua\nfunction M.start(opts, callback)\n  -- ...\n  if server_config.url then\n    server_url = server_config.url\n    M.health_check_async(function(healthy)\n      if callback then callback(healthy) end\n    end)\n    return true -- initiated\n  end\n```\n\nThis keeps backwards compatibility while giving callers a way to know when connection is verified.\n\n## Files to Modify\n- lua/opencode/server.lua - add callback param to M.start()\n- lua/opencode.lua - update callers if needed","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-02T14:09:06.406025101-05:00","updated_at":"2025-12-02T14:09:06.406025101-05:00"}
{"id":"opencode.nvim-rui","title":"Blocking operations freeze UI - io.popen and vim.loop.sleep block event loop","description":"## Problem\nMultiple blocking operations freeze the Neovim UI:\n- `io.popen` in server.lua:155,170 (health check curl - blocks up to 2s)\n- `io.popen` in health.lua:15 (opencode --version check)\n- `vim.loop.sleep(10)` in port.lua:45 (blocks event loop during retry)\n\nCall chain: :OpenCodeStatus → is_running() → health_check() → io.popen BLOCKS\n\n## Implementation Plan\n\n### Phase 1: Async HTTP Utility (utils.lua)\nAdd `M.async_curl(args, callback, opts)` using vim.fn.jobstart\n\n### Phase 2: Server Module Refactor (server.lua)\n- Add local state tracking: `server_healthy`, `health_check_timer`\n- New async `M.health_check(callback)`\n- Non-blocking `M.is_running()` returns cached state\n- 30-second periodic health check timer\n- New `M.refresh_status(callback)` for explicit refresh\n\n### Phase 3: Port Module Fix (port.lua)\n- Convert `find_free_port_with_retry` to async with callback\n- Replace `vim.loop.sleep(10)` with timer-based retry\n\n### Phase 4: Health Module Update (health.lua)\n- Replace `io.popen` with `vim.fn.system()` for version check\n\n### Phase 5: Main Module Updates (opencode.lua)\n- `M.is_available()` uses cached state (instant)\n- `M.status()` shows \"Checking...\" then updates with fresh state\n\n### Files to Modify\n- lua/opencode/utils.lua - add async_curl()\n- lua/opencode/server.lua - async health checks, state tracking, periodic timer\n- lua/opencode/port.lua - async find_free_port_with_retry\n- lua/opencode/health.lua - replace io.popen with vim.fn.system\n- lua/opencode.lua - update is_available(), status()\n\n### UX Decisions (Confirmed)\n- :OpenCodeStatus shows \"Checking...\" then updates with fresh state\n- 30-second health check timer interval\n- Server startup: keep 2s delay, make health check async\n- Errors via vim.notify (visible in :messages)\n- Target Neovim 0.9+, error on older versions","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-02T11:37:44.594529708-05:00","updated_at":"2025-12-02T14:00:24.704389771-05:00","closed_at":"2025-12-02T14:00:24.704401524-05:00"}
{"id":"opencode.nvim-vz4","title":"Tab key conflicts with nvim-cmp and snippets - needs configurable accept keybind","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-02T11:37:46.045185563-05:00","updated_at":"2025-12-02T11:37:46.045185563-05:00"}
{"id":"opencode.nvim-yst","title":"Deprecated API usage - nvim_buf_get_option should be vim.bo[bufnr].option","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-02T11:37:47.483902862-05:00","updated_at":"2025-12-02T11:37:47.483902862-05:00"}
{"id":"opencode.nvim-z3t","title":"GitHub Actions CI/CD","description":"Set up GitHub Actions workflows for automated testing and validation","status":"open","priority":2,"issue_type":"epic","created_at":"2025-12-02T14:43:57.871000691-05:00","updated_at":"2025-12-02T14:43:57.871000691-05:00"}
